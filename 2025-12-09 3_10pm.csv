TABLE_NAME,LOCATION_FOUND,DDL_DEFINITION
TD_DATA_LOAD,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TD_DATA_LOAD""","create or replace TRANSIENT TABLE TD_DATA_LOAD (
	NR_MIN_TIME_WEEK_KEY NUMBER(10,0),
	NR_TIME_WEEK_KEY NUMBER(10,0),
	NR_TIME_MTH_KEY NUMBER(10,0),
	NR_FULL_TIME_MTH_KEY NUMBER(10,0),
	RX_MIN_TIME_SWEEK_KEY NUMBER(10,0),
	RX_TIME_SWEEK_KEY NUMBER(10,0),
	RX_TIME_MTH_KEY NUMBER(10,0),
	RX_FULL_TIME_MTH_KEY NUMBER(10,0),
	LAAD_CLAIM_TIME_START_DT_KEY NUMBER(10,0),
	LAAD_CLAIM_START_MTH_KEY NUMBER(10,0),
	LAAD_CLAIM_TIME_END_DT_KEY NUMBER(10,0),
	LAAD_CLAIM_TIME_END_MTH_KEY NUMBER(10,0),
	LAAD_CLAIM_TIME_DT_KEY NUMBER(10,0),
	INT_SALES_TIME_DT_KEY NUMBER(10,0),
	INT_SALES_FULL_TIME_WEEK_KEY NUMBER(10,0),
	INT_SALES_FULL_TIME_MTH_KEY NUMBER(10,0),
	INV_DISP_SALES_TIME_DT_KEY NUMBER(10,0),
	INT_SALES_ACTG_TIME_DT_KEY NUMBER(10,0),
	INT_SALES_ACTG_FULL_TIME_WEEK_KEY NUMBER(10,0),
	INT_SALES_ACTG_FULL_TIME_MTH_KEY NUMBER(10,0),
	INV_INV_TIME_DT_KEY NUMBER(10,0),
	SD_SALES_TIME_DT_KEY NUMBER(10,0),
	PREV_SF_ALN_KEY VARCHAR(32),
	CURR_SF_ALN_KEY VARCHAR(32),
	NEW_SF_ALN_KEY VARCHAR(32),
	PREV_IC_SF_ALN_KEY VARCHAR(32),
	CURR_IC_SF_ALN_KEY VARCHAR(32),
	NEW_IC_SF_ALN_KEY VARCHAR(32),
	PAIN_BU_BUDGET_FORECAST_VERSION_KEY VARCHAR(32),
	PAIN_BU_CURR_FORECAST_VERSION_KEY VARCHAR(32),
	PAIN_BU_PRIOR_FORECAST_VERSION_KEY VARCHAR(32),
	PAIN_BU_WORK_FORECAST_VERSION_KEY VARCHAR(32),
	PAIN_HYP_ACTUAL_FORECAST_VERSION_KEY VARCHAR(32),
	PAIN_HYP_BUDGET_FORECAST_VERSION_KEY VARCHAR(32),
	PAIN_HYP_CURR_FORECAST_VERSION_KEY VARCHAR(32),
	PAIN_HYP_PRIOR_FORECAST_VERSION_KEY VARCHAR(32),
	PAIN_HYP_WORK_FORECAST_VERSION_KEY VARCHAR(32),
	PROD_SUMM_REPORT_TIME_DT_KEY NUMBER(10,0),
	PROD_SUMM_FULL_TIME_MTH_KEY NUMBER(10,0),
	LOAD_START_DATE NUMBER(10,0)
);"
TD_GEO_LOC,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TD_GEO_LOC""","create or replace TRANSIENT TABLE TD_GEO_LOC (
	GEO_LOC_KEY VARCHAR(32),
	LOC_ADDR_LINE_1 VARCHAR(16777216),
	LOC_ADDR_LINE_2 VARCHAR(16777216),
	LOC_ADDR_LINE_3 VARCHAR(16777216),
	LOC_ADDR_LINE_4 VARCHAR(16777216),
	GEO_CITY_KEY VARCHAR(32),
	GEO_CITY_NAME VARCHAR(16777216),
	GEO_STATE_KEY NUMBER(38,0),
	GEO_STATE_CD VARCHAR(16777216),
	GEO_STATE_NAME VARCHAR(16777216),
	GEO_POSTAL_KEY VARCHAR(32),
	GEO_POSTAL_CD VARCHAR(16777216),
	GEO_POSTAL_CD_EXT VARCHAR(16777216),
	GEO_COUNTRY_KEY NUMBER(38,0),
	GEO_COUNTRY_CD VARCHAR(16777216),
	GEO_COUNTRY_NAME VARCHAR(16777216),
	GEO_LATITUDE NUMBER(11,8),
	GEO_LONGITUDE NUMBER(11,8)
);"
TD_HCP,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TD_HCP""","create or replace TRANSIENT TABLE TD_HCP (
	HCP_KEY VARCHAR(32),
	HCP_FIRST_NAME VARCHAR(16777216),
	HCP_MID_NAME VARCHAR(16777216),
	HCP_LAST_NAME VARCHAR(16777216),
	HCP_SUFFIX VARCHAR(16777216),
	HCP_TITLE VARCHAR(16777216),
	HCP_DEGREE VARCHAR(16777216),
	HCP_GENDER VARCHAR(255),
	HCP_BIRTH_DT DATE,
	HCP_GRAD_YR VARCHAR(16777216),
	HCP_PHONE_HOME_P VARCHAR(16777216),
	HCP_PHONE_WORK_P VARCHAR(16777216),
	HCP_PHONE_MOBILE_P VARCHAR(16777216),
	HCP_STATUS_KEY NUMBER(38,0),
	HCP_SUBTYPE_KEY NUMBER(38,0),
	HCP_ME_NUM VARCHAR(16777216),
	HCP_PDRP_OPTOUT_IND VARCHAR(16777216),
	HCP_PDRP_OPTOUT_DT DATE,
	KOL_IND VARCHAR(16777216),
	AMA_NO_CONTACT VARCHAR(1),
	NO_SEE_IND VARCHAR(16777216),
	SAMPLEABILITY_IND VARCHAR(16777216),
	SAMPLEABILITY_DT DATE,
	EMAIL_ADDR_P VARCHAR(16777216),
	EMAIL_ADDR_S VARCHAR(16777216),
	EMAIL_ADDR_T VARCHAR(16777216),
	HCP_P_HIN VARCHAR(16777216),
	HCP_S_HIN VARCHAR(16777216),
	HCP_T_HIN VARCHAR(16777216),
	HCP_P_MA_ID VARCHAR(16777216),
	HCP_S_MA_ID VARCHAR(16777216),
	HCP_T_MA_ID VARCHAR(16777216),
	HCP_P_NPI_NUM VARCHAR(16777216),
	HCP_S_NPI_NUM VARCHAR(16777216),
	HCP_T_NPI_NUM VARCHAR(16777216),
	HCP_P_DEA_NUM VARCHAR(16777216),
	HCP_P_DEA_LIC_STATUS_CD VARCHAR(16777216),
	HCP_P_DEA_BUSINESS_ACTIVITY_CD VARCHAR(16777216),
	HCP_P_DEA_DRUG_SCHEDULE VARCHAR(16777216),
	HCP_P_DEA_STATE_OF_LICENSURE VARCHAR(16777216),
	HCP_P_DEA_EXP_DT DATE,
	HCP_S_DEA_NUM VARCHAR(16777216),
	HCP_S_DEA_LIC_STATUS_CD VARCHAR(16777216),
	HCP_S_DEA_BUSINESS_ACTIVITY_CD VARCHAR(16777216),
	HCP_S_DEA_DRUG_SCHEDULE VARCHAR(16777216),
	HCP_S_DEA_STATE_OF_LICENSURE VARCHAR(16777216),
	HCP_S_DEA_EXP_DT DATE,
	HCP_T_DEA_NUM VARCHAR(16777216),
	HCP_T_DEA_LIC_STATUS_CD VARCHAR(16777216),
	HCP_T_DEA_BUSINESS_ACTIVITY_CD VARCHAR(16777216),
	HCP_T_DEA_DRUG_SCHEDULE VARCHAR(16777216),
	HCP_T_DEA_STATE_OF_LICENSURE VARCHAR(16777216),
	HCP_T_DEA_EXP_DT DATE,
	HCP_P_STATE_LIC_NUM VARCHAR(16777216),
	HCP_P_STATE_LIC_STATE_CD VARCHAR(16777216),
	HCP_P_STATE_LIC_STATUS VARCHAR(16777216),
	HCP_P_STATE_LIC_ISSUE_DT DATE,
	HCP_P_STATE_LIC_EXP_DT DATE,
	HCP_S_STATE_LIC_NUM VARCHAR(16777216),
	HCP_S_STATE_LIC_STATE_CD VARCHAR(16777216),
	HCP_S_STATE_LIC_STATUS VARCHAR(16777216),
	HCP_S_STATE_LIC_ISSUE_DT DATE,
	HCP_S_STATE_LIC_EXP_DT DATE,
	HCP_T_STATE_LIC_NUM VARCHAR(16777216),
	HCP_T_STATE_LIC_STATE_CD VARCHAR(16777216),
	HCP_T_STATE_LIC_STATUS VARCHAR(16777216),
	HCP_T_STATE_LIC_ISSUE_DT DATE,
	HCP_T_STATE_LIC_EXP_DT DATE,
	HCP_SRC_ID_SHA VARCHAR(16777216),
	HCP_SRC_ID_IMS VARCHAR(16777216),
	HCP_SRC_ID_10_IMS2 VARCHAR(16777216),
	HCP_SRC_ID_P_CLIENT VARCHAR(16777216),
	HCP_SRC_ID_S_CLIENT VARCHAR(16777216),
	HCP_SRC_ID_P_SFA VARCHAR(16777216),
	HCP_SRC_ID_S_SFA VARCHAR(16777216),
	HCP_SRC_ID_T_SFA VARCHAR(16777216),
	HCP_SRC_ID_4_SFA VARCHAR(16777216),
	HCP_SRC_ID_5_SFA VARCHAR(16777216),
	HCP_SRC_ID_P_SP VARCHAR(16777216),
	HCP_SRC_ID_S_SP VARCHAR(16777216),
	HCP_SRC_ID_T_SP VARCHAR(16777216),
	HCP_SRC_ID_CF_SPDI VARCHAR(16777216),
	HCP_SRC_ID_P_COPROMO VARCHAR(16777216),
	HCP_SRC_ID_S_COPROMO VARCHAR(16777216),
	HCP_SRC_ID_T_COPROMO VARCHAR(16777216),
	HCP_SRC_ID_P_SCRUB VARCHAR(16777216),
	HCP_SRC_ID_S_SCRUB VARCHAR(16777216),
	HCP_SRC_ID_3_SCRUB VARCHAR(16777216),
	HCP_SRC_ID_OH_TDDD VARCHAR(16777216)
);"
TD_IDN,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TD_IDN""","create or replace TRANSIENT TABLE TD_IDN (
	IDN_KEY VARCHAR(32),
	IDN_NAME VARCHAR(16777216),
	IDN_SDESC VARCHAR(16777216),
	IDN_SRC_ID_IMS VARCHAR(16777216),
	IDN_SRC_ID_P_SCRUB VARCHAR(16777216),
	IDN_SRC_ID_S_SCRUB VARCHAR(16777216),
	IDN_SRC_P_SFA VARCHAR(16777216)
);"
TD_MM_PAYER_CATEGORY_L2,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TD_MM_PAYER_CATEGORY_L2""","create or replace TRANSIENT TABLE TD_MM_PAYER_CATEGORY_L2 (
	MM_PAYER_CAT_L2_KEY VARCHAR(32),
	MM_PAYER_CAT_L2_CD VARCHAR(16777216),
	MM_PAYER_CAT_L2_DESC VARCHAR(16777216),
	MM_PAYER_CAT_L1_KEY VARCHAR(32)
);"
TD_MM_PAYER_CATEGORY_L3,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TD_MM_PAYER_CATEGORY_L3""","create or replace TRANSIENT TABLE TD_MM_PAYER_CATEGORY_L3 (
	MM_PAYER_CAT_L3_KEY VARCHAR(32),
	MM_PAYER_CAT_L3_CD VARCHAR(16777216),
	MM_PAYER_CAT_L3_DESC VARCHAR(16777216),
	MM_PAYER_CAT_L2_KEY VARCHAR(32)
);"
TD_OTLT_SUBCAT,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TD_OTLT_SUBCAT""","create or replace TRANSIENT TABLE TD_OTLT_SUBCAT (
	OTLT_SUBCAT_KEY VARCHAR(32),
	OTLT_SUBCAT_CD VARCHAR(16777216),
	OTLT_SUBCAT_DESC VARCHAR(16777216)
);"
TD_SALESFORCE_L1,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TD_SALESFORCE_L1""","create or replace TRANSIENT TABLE TD_SALESFORCE_L1 (
	SF_L1_KEY VARCHAR(32),
	SF_L1_CD VARCHAR(255),
	SF_L1_DESC VARCHAR(255),
	SF_L1_CD_ALIAS VARCHAR(255),
	SF_L2_KEY VARCHAR(32),
	SF_L2_CD VARCHAR(255),
	SF_L2_DESC VARCHAR(255),
	SF_L2_CD_ALIAS VARCHAR(255),
	SF_L3_KEY VARCHAR(32),
	SF_L3_CD VARCHAR(255),
	SF_L3_DESC VARCHAR(255),
	SF_L3_CD_ALIAS VARCHAR(255),
	SF_L4_KEY VARCHAR(32),
	SF_L4_CD VARCHAR(255),
	SF_L4_DESC VARCHAR(255),
	SF_L4_CD_ALIAS VARCHAR(255),
	SF_SF_KEY VARCHAR(32),
	SF_SF_CD VARCHAR(255),
	SF_SF_DESC VARCHAR(255),
	SF_ALN_KEY VARCHAR(32),
	SF_ALN_CD VARCHAR(255),
	SF_ALN_DESC VARCHAR(255)
);"
TD_SOC,NOT FOUND,Table not found in any database.
TD_SPECGRP,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TD_SPECGRP""","create or replace TRANSIENT TABLE TD_SPECGRP (
	SPECGRP_KEY VARCHAR(32),
	SPECGRP_CD VARCHAR(16777216),
	SPECGRP_DESC VARCHAR(16777216)
);"
TD_TIME_DT,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TD_TIME_DT""","create or replace TRANSIENT TABLE TD_TIME_DT (
	TIME_DT_KEY NUMBER(10,0),
	TIME_DT_CD VARCHAR(255),
	TIME_DT_DESC VARCHAR(255),
	TIME_DT DATE,
	TIME_MTH_KEY NUMBER(10,0),
	TIME_MTH_CD VARCHAR(255),
	TIME_MTH_DESC VARCHAR(255),
	TIME_QTR_KEY NUMBER(10,0),
	TIME_QTR_CD VARCHAR(255),
	TIME_QTR_DESC VARCHAR(255),
	TIME_TRIM_KEY NUMBER(10,0),
	TIME_TRIM_CD VARCHAR(255),
	TIME_TRIM_DESC VARCHAR(255),
	TIME_HY_KEY NUMBER(10,0),
	TIME_HY_CD VARCHAR(255),
	TIME_HY_DESC VARCHAR(255),
	TIME_YEAR_KEY NUMBER(10,0),
	TIME_YEAR_CD VARCHAR(255),
	TIME_YEAR_DESC VARCHAR(255),
	TIME_WEEK_KEY NUMBER(10,0),
	TIME_WEEK_CD VARCHAR(255),
	TIME_WEEK_DESC VARCHAR(255),
	TIME_WEEK_SDESC VARCHAR(255),
	TIME_WE_SUN_KEY NUMBER(10,0),
	TIME_WE_SUN_CD VARCHAR(255),
	TIME_WE_SUN_DESC VARCHAR(255),
	TIME_WE_SUN_SDESC VARCHAR(255),
	TIME_SWEEK_KEY NUMBER(10,0),
	TIME_SWEEK_CD VARCHAR(255),
	TIME_SWEEK_DESC VARCHAR(255),
	TIME_SWEEK_SDESC VARCHAR(255),
	TIME_RX_QTR_KEY NUMBER(10,0),
	TIME_RX_QTR_CD VARCHAR(16777216),
	TIME_RX_QTR_DESC VARCHAR(16777216),
	TIME_RX_TRIM_KEY NUMBER(10,0),
	TIME_RX_TRIM_CD VARCHAR(16777216),
	TIME_RX_TRIM_DESC VARCHAR(16777216),
	TIME_RX_HY_KEY NUMBER(10,0),
	TIME_RX_HY_CD VARCHAR(16777216),
	TIME_RX_HY_DESC VARCHAR(16777216),
	TIME_DOW_KEY NUMBER(10,0),
	TIME_DOW_CD VARCHAR(255),
	TIME_DOW_DESC VARCHAR(16777216),
	TIME_DOW_US_ORDER NUMBER(1,0),
	TIME_DOM_KEY NUMBER(10,0),
	TIME_DOM_CD VARCHAR(255),
	TIME_DOM_DESC VARCHAR(255),
	TIME_DOQ_KEY NUMBER(10,0),
	TIME_DOQ_CD VARCHAR(255),
	TIME_DOQ_DESC VARCHAR(255),
	TIME_MOY_KEY NUMBER(10,0),
	TIME_MOY_CD VARCHAR(255),
	TIME_MOY_DESC VARCHAR(255),
	TIME_QOY_KEY NUMBER(10,0),
	TIME_QOY_CD VARCHAR(255),
	TIME_QOY_DESC VARCHAR(255),
	TIME_TOY_KEY NUMBER(10,0),
	TIME_TOY_CD VARCHAR(255),
	TIME_TOY_DESC VARCHAR(255),
	TIME_HYOY_KEY NUMBER(10,0),
	TIME_HYOY_CD VARCHAR(255),
	TIME_HYOY_DESC VARCHAR(255)
);"
TD_VRTX_MCO_PAYER,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TD_VRTX_MCO_PAYER""","create or replace TRANSIENT TABLE TD_VRTX_MCO_PAYER (
	VRTX_PAYER_KEY VARCHAR(32),
	VRTX_PAYER_CD VARCHAR(16777216),
	VRTX_PAYER_NAME VARCHAR(16777216),
	VRTX_PAYER_SRC_ID VARCHAR(16777216),
	VRTX_PARENT_PAYER_KEY VARCHAR(32)
);"
TD_VRTX_MCO_PLAN,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TD_VRTX_MCO_PLAN""","create or replace TRANSIENT TABLE TD_VRTX_MCO_PLAN (
	VRTX_PLAN_KEY VARCHAR(32),
	VRTX_PLAN_CD VARCHAR(16777216),
	VRTX_PLAN_NAME VARCHAR(16777216),
	VRTX_PLAN_SRC_ID VARCHAR(16777216),
	VRTX_PAYER_KEY VARCHAR(32),
	VRTX_PBM_KEY VARCHAR(32)
);"
TM_NRAFIC_L1_OTLT_SOC_DC_NDC_WK,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TM_NRAFIC_L1_OTLT_SOC_DC_NDC_WK""","create or replace TRANSIENT TABLE TM_NRAFIC_L1_OTLT_SOC_DC_NDC_WK (
	OTLT_KEY VARCHAR(32),
	SOC_KEY VARCHAR(32),
	DISTRIB_CHNL_KEY NUMBER(38,0),
	PROD_NDC11_KEY VARCHAR(32),
	TIME_WEEK_KEY NUMBER(10,0),
	SF_L1_KEY VARCHAR(32),
	NR_AMT NUMBER(38,10),
	NR_AMT_DLLRZD NUMBER(38,10),
	NR_PKG_QTY NUMBER(38,10),
	NR_PKG_QTY_N NUMBER(38,10),
	NR_UNIT NUMBER(38,10),
	NR_UNIT_N NUMBER(38,10),
	NR_TRX_CNT NUMBER(38,10),
	NR_PT_CNT NUMBER(38,10),
	NR_TX_DAYS NUMBER(38,10)
);"
TM_NRAF_L1_SOC_OTLT_DC_NDC_MTH,"""PRD_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""REPORTING_2024WK46"".""TM_NRAF_L1_SOC_OTLT_DC_NDC_MTH""","create or replace TABLE TM_NRAF_L1_SOC_OTLT_DC_NDC_MTH (
	OTLT_KEY VARCHAR(32),
	SOC_KEY VARCHAR(32),
	DISTRIB_CHNL_KEY NUMBER(38,0),
	PROD_NDC11_KEY VARCHAR(32),
	TIME_MTH_KEY NUMBER(10,0),
	SF_L1_KEY VARCHAR(16777216) NOT NULL,
	NR_AMT NUMBER(38,10),
	NR_AMT_DLLRZD NUMBER(38,10),
	NR_PKG_QTY NUMBER(38,10),
	NR_PKG_QTY_N NUMBER(38,10),
	NR_UNIT NUMBER(38,10),
	NR_UNIT_N NUMBER(38,10)
);"
TM_NRAF_L1_SOC_OTLT_DC_NDC_WK,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TM_NRAF_L1_SOC_OTLT_DC_NDC_WK""","create or replace TRANSIENT TABLE TM_NRAF_L1_SOC_OTLT_DC_NDC_WK (
	OTLT_KEY VARCHAR(32),
	SOC_KEY VARCHAR(32),
	DISTRIB_CHNL_KEY NUMBER(38,0),
	PROD_NDC11_KEY VARCHAR(32),
	TIME_WEEK_KEY NUMBER(10,0),
	SF_L1_KEY VARCHAR(32),
	NR_AMT NUMBER(38,10),
	NR_AMT_DLLRZD NUMBER(38,10),
	NR_PKG_QTY NUMBER(38,10),
	NR_PKG_QTY_N NUMBER(38,10),
	NR_UNIT NUMBER(38,10),
	NR_UNIT_N NUMBER(38,10),
	NR_TRX_CNT NUMBER(38,10),
	NR_PT_CNT NUMBER(38,10),
	NR_TX_DAYS NUMBER(38,10)
);"
TM_RX_L1_HCPPLNDC_NDC_MTH,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TM_RX_L1_HCPPLNDC_NDC_MTH""","create or replace TRANSIENT TABLE TM_RX_L1_HCPPLNDC_NDC_MTH (
	HCP_KEY VARCHAR(32),
	MCO_PLAN_KEY VARCHAR(32),
	VRTX_PLAN_KEY VARCHAR(32),
	PROD_NDC11_KEY VARCHAR(32),
	DISTRIB_CHNL_KEY NUMBER(38,0),
	TIME_MTH_KEY NUMBER(10,0),
	SF_L1_KEY VARCHAR(32),
	NRX_CNT NUMBER(38,10),
	NRX_CNT_N NUMBER(38,10),
	NRX_QTY NUMBER(38,10),
	NRX_AMT NUMBER(38,10),
	NRX_AMT_DLLRZD NUMBER(38,10),
	NRX_STRNTH_VOL NUMBER(38,10),
	NRX_PKG_QTY NUMBER(38,10),
	TRX_CNT NUMBER(38,10),
	TRX_CNT_N NUMBER(38,10),
	TRX_QTY NUMBER(38,10),
	TRX_AMT NUMBER(38,10),
	TRX_AMT_DLLRZD NUMBER(38,10),
	TRX_STRNTH_VOL NUMBER(38,10),
	TRX_PKG_QTY NUMBER(38,10)
);"
TM_RX_L1_HCPPLNDC_NDC_WK,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TM_RX_L1_HCPPLNDC_NDC_WK""","create or replace TRANSIENT TABLE TM_RX_L1_HCPPLNDC_NDC_WK (
	HCP_KEY VARCHAR(32),
	MCO_PLAN_KEY VARCHAR(32),
	VRTX_PLAN_KEY VARCHAR(32),
	PROD_NDC11_KEY VARCHAR(32),
	DISTRIB_CHNL_KEY NUMBER(38,0),
	TIME_WEEK_KEY NUMBER(10,0),
	SF_L1_KEY VARCHAR(32),
	NRX_CNT NUMBER(38,10),
	NRX_CNT_N NUMBER(38,10),
	NRX_QTY NUMBER(38,10),
	NRX_AMT NUMBER(38,10),
	NRX_AMT_DLLRZD NUMBER(38,10),
	NRX_STRNTH_VOL NUMBER(38,10),
	NRX_PKG_QTY NUMBER(38,10),
	TRX_CNT NUMBER(38,10),
	TRX_CNT_N NUMBER(38,10),
	TRX_QTY NUMBER(38,10),
	TRX_AMT NUMBER(38,10),
	TRX_AMT_DLLRZD NUMBER(38,10),
	TRX_STRNTH_VOL NUMBER(38,10),
	TRX_PKG_QTY NUMBER(38,10)
);"
TXR_HCP_GEOLOC_PRIM,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_HCP_GEOLOC_PRIM""","create or replace TRANSIENT TABLE TXR_HCP_GEOLOC_PRIM (
	HCP_KEY VARCHAR(32),
	GEO_LOC_KEY VARCHAR(32),
	GEO_LOC_TYPE_KEY NUMBER(38,0)
);"
TXR_HCP_SF_L1,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_HCP_SF_L1""","create or replace TRANSIENT TABLE TXR_HCP_SF_L1 (
	HCP_KEY VARCHAR(32),
	SF_L1_KEY VARCHAR(32),
	APPORTIONMENT_PCT NUMBER(6,5),
	SF_ALN_REASON_KEY VARCHAR(32),
	HCP_CNT NUMBER(5,0)
);"
TXR_HCP_SOC,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_HCP_SOC""","create or replace TRANSIENT TABLE TXR_HCP_SOC (
	HCP_KEY VARCHAR(32),
	SOC_KEY VARCHAR(32),
	TXN_CNT NUMBER(1,0),
	APPORTIONMENT_PCT NUMBER(38,37)
);"
TXR_HCP_SPEC,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_HCP_SPEC""","create or replace TRANSIENT TABLE TXR_HCP_SPEC (
	HCP_KEY VARCHAR(32),
	SPEC_KEY VARCHAR(32),
	RANK NUMBER(18,0)
);"
TXR_MKTGPGM_CURR_PTAM_HCP_TGT,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_MKTGPGM_CURR_PTAM_HCP_TGT""","create or replace TRANSIENT TABLE TXR_MKTGPGM_CURR_PTAM_HCP_TGT (
	MKTGPGM_KEY VARCHAR(32),
	MKTGPGM_LOV_KEY VARCHAR(32),
	MKTGPGM_LOV_CD VARCHAR(255),
	MKTGPGM_LOV_DESC VARCHAR(255),
	MKTGPGM_LOV_SDESC VARCHAR(255),
	HCP_KEY VARCHAR(32),
	MKTGPGM_CNT NUMBER(38,0)
);"
TXR_MKTGPGM_CURR_SAL_IDN_TGT,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_MKTGPGM_CURR_SAL_IDN_TGT""","create or replace TRANSIENT TABLE TXR_MKTGPGM_CURR_SAL_IDN_TGT (
	MKTGPGM_KEY VARCHAR(32),
	MKTGPGM_LOV_KEY VARCHAR(32),
	MKTGPGM_LOV_CD VARCHAR(255),
	MKTGPGM_LOV_DESC VARCHAR(255),
	MKTGPGM_LOV_SDESC VARCHAR(255),
	IDN_KEY VARCHAR(32),
	MKTGPGM_CNT NUMBER(38,0)
);"
TXR_MKTGPGM_GHEM_HCO_SUBTYPE,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_MKTGPGM_GHEM_HCO_SUBTYPE""","create or replace TRANSIENT TABLE TXR_MKTGPGM_GHEM_HCO_SUBTYPE (
	MKTGPGM_KEY VARCHAR(32),
	MKTGPGM_LOV_KEY VARCHAR(32),
	MKTGPGM_LOV_CD VARCHAR(255),
	MKTGPGM_LOV_DESC VARCHAR(255),
	MKTGPGM_LOV_SDESC VARCHAR(255),
	HCO_KEY VARCHAR(32),
	MKTGPGM_CNT NUMBER(38,0)
);"
TXR_MKTGPGM_PAIN_SOC_TGT,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_MKTGPGM_PAIN_SOC_TGT""","create or replace TRANSIENT TABLE TXR_MKTGPGM_PAIN_SOC_TGT (
	MKTGPGM_KEY VARCHAR(32),
	MKTGPGM_LOV_KEY VARCHAR(32),
	MKTGPGM_LOV_CD VARCHAR(255),
	MKTGPGM_LOV_DESC VARCHAR(255),
	MKTGPGM_LOV_SDESC VARCHAR(255),
	SOC_KEY VARCHAR(32),
	MKTGPGM_CNT NUMBER(38,0)
);"
TXR_MKTGPGM_SUZ_HCP_SEGMENT,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_MKTGPGM_SUZ_HCP_SEGMENT""","create or replace TRANSIENT TABLE TXR_MKTGPGM_SUZ_HCP_SEGMENT (
	MKTGPGM_KEY VARCHAR(32),
	MKTGPGM_LOV_KEY VARCHAR(32),
	MKTGPGM_LOV_CD VARCHAR(255),
	MKTGPGM_LOV_DESC VARCHAR(255),
	MKTGPGM_LOV_SDESC VARCHAR(255),
	HCP_KEY VARCHAR(32),
	MKTGPGM_CNT NUMBER(38,0)
);"
TXR_NTILE_HCP_ANYPAIN_R52W,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_NTILE_HCP_ANYPAIN_R52W""","create or replace TRANSIENT TABLE TXR_NTILE_HCP_ANYPAIN_R52W (
	NTILEPGM_KEY VARCHAR(32),
	NTILEPGM_LOV_KEY VARCHAR(32),
	NTILEPGM_LOV_CD VARCHAR(255),
	NTILEPGM_LOV_DESC VARCHAR(255),
	NTILEPGM_LOV_SDESC VARCHAR(255),
	HCP_KEY VARCHAR(32),
	NTILEPGM_CNT NUMBER(8,0)
);"
TXR_NTILE_HCP_SUZ_QTRLY_STATIC_R52W,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_NTILE_HCP_SUZ_QTRLY_STATIC_R52W""","create or replace TRANSIENT TABLE TXR_NTILE_HCP_SUZ_QTRLY_STATIC_R52W (
	NTILEPGM_KEY VARCHAR(32),
	NTILEPGM_LOV_KEY VARCHAR(32),
	NTILEPGM_LOV_CD VARCHAR(255),
	NTILEPGM_LOV_DESC VARCHAR(255),
	NTILEPGM_LOV_SDESC VARCHAR(255),
	HCP_KEY VARCHAR(32),
	NTILEPGM_CNT NUMBER(8,0)
);"
TXR_NTILE_HCP_SUZ_R52W,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_NTILE_HCP_SUZ_R52W""","create or replace TRANSIENT TABLE TXR_NTILE_HCP_SUZ_R52W (
	NTILEPGM_KEY VARCHAR(32),
	NTILEPGM_LOV_KEY VARCHAR(32),
	NTILEPGM_LOV_CD VARCHAR(255),
	NTILEPGM_LOV_DESC VARCHAR(255),
	NTILEPGM_LOV_SDESC VARCHAR(255),
	HCP_KEY VARCHAR(32),
	NTILEPGM_CNT NUMBER(8,0)
);"
TXR_OTLT_SUBCAT,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_OTLT_SUBCAT""","create or replace TRANSIENT TABLE TXR_OTLT_SUBCAT (
	OTLT_KEY VARCHAR(32),
	OTLT_SUBCAT_KEY VARCHAR(16777216)
);"
TXR_SOC_IDN,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_SOC_IDN""","create or replace TRANSIENT TABLE TXR_SOC_IDN (
	SOC_KEY VARCHAR(32),
	IDN_KEY VARCHAR(32),
	TXN_CNT NUMBER(38,0)
);"
TXR_VRTX_MCO_PAYER_CAT_2_PLAN,"""DEV_P_PAIN_SALES_PERFORMANCE_ANALYTICS_DB"".""DBT_ASINHA_REPORTING_LOAD"".""TXR_VRTX_MCO_PAYER_CAT_2_PLAN""","create or replace TRANSIENT TABLE TXR_VRTX_MCO_PAYER_CAT_2_PLAN (
	VRTX_PLAN_KEY VARCHAR(32),
	MM_PAYER_CAT_MAX_LVL_KEY VARCHAR(32),
	TXN_CNT NUMBER(1,0)
);"


# ==========================================
# 2. FULL PROMPT DEFINITIONS (EXACT ORIGINAL)
# ==========================================

PROMPT_REPHRASER_ORCHESTRATION = """
<query_refinement_instructions>
<objective>
Transform the user's input into a standalone, context-complete query that can be understood without prior conversation history.
</objective>

<core_rules>
<rule id="1">Resolve all pronouns (it, they, that, this, those) to their specific referents</rule>
<rule id="2">Preserve ALL metrics, entity names, IDs, and numerical values EXACTLY as stated</rule>
<rule id="3">Maintain the original intent and scope - do not expand or narrow the question</rule>
<rule id="4">Keep technical terminology and domain-specific language intact</rule>
<rule id="5">Ensure the output is grammatically correct and reads naturally</rule>
</core_rules>

<transformation_examples>
<example>
<input>What about Arizona?</input>
<context>Previous discussion about sales performance in Texas</context>
<output>What is the sales performance in Arizona?</output>
</example>

<example>
<input>Why is it down?</input>
<context>Previous mention of Q4 revenue</context>
<output>Why is Q4 revenue down?</output>
</example>
</transformation_examples>

<output_format>
Output ONLY the refined query string. Do not include explanations, metadata, or formatting.
</output_format>
</query_refinement_instructions>
"""

PROMPT_INTENT_SYSTEM = "You are an Expert Intent Classification System."

PROMPT_INTENT_ORCHESTRATION = """
<intent_classification_instructions>

<mission>
Your ONLY job is to identify the user's INTENT. Do NOT retrieve data, do NOT answer questions, do NOT perform analysis.
Classify the intent type and route accordingly. If you can answer directly (like greetings), provide direct_response.
</mission>

<intent_categories>

<intent name="greeting">
<description>User is greeting, saying hello, or engaging in pleasantries</description>
<indicators>hi, hello, hey, good morning, how are you, thanks, thank you, goodbye, bye</indicators>
<action>Set direct_response with a friendly greeting. No other fields needed.</action>
</intent>

<intent name="data_retrieval">
<description>User wants to see/get/retrieve DATA - numbers, lists, metrics, tables</description>
<indicators>show, list, get, display, find, what is the value, how many, count, total, give me</indicators>
<action>Extract the data request to data_retrieval_query. Keep as natural language. Add "and generate a table and a visual".</action>
**CRITICAL VISUALIZATION LOGIC:**
Analyze the data request. If it implies trends (over time), comparisons (by region/product), or distributions, you MUST automatically append "and generate a table and a visual" to the query string, even if the user did not explicitly ask for a chart.
</intent>

<intent name="root_cause_analysis">
<description>User wants to understand WHY, CAUSES, DRIVERS, REASONS, EXPLANATIONS</description>
<indicators>why, explain, what is driving, what is causing, what's behind, reason for, root cause, how come, what factors</indicators>
<action>Extract the causal question to root_cause_query. Keep VERBATIM - exact text from user.</action>
</intent>

<intent name="combined">
<description>User wants BOTH data AND causal analysis in one request</description>
<indicators>Contains both data keywords AND causal keywords</indicators>
<action>Split into data_retrieval_query AND root_cause_query. Keep both portions.</action>
</intent>

<intent name="clarification_needed">
<description>User's intent is unclear, vague, or ambiguous - you cannot determine what they want</description>
<indicators>Very short/vague input, unclear pronouns without context, incomplete thoughts</indicators>
<action>Set clarification_question asking user to be more specific.</action>
</intent>

<intent name="general_question">
<description>General questions about the system, capabilities, how to use features - not data or analysis requests</description>
<indicators>how do I, can you, what can you do, help me understand, how does this work</indicators>
<action>Set direct_response with helpful information about capabilities.</action>
</intent>

<intent name="off_topic">
<description>User is asking about unrelated topics not connected to data, analytics, or business questions</description>
<indicators>Questions about weather, sports, entertainment, personal topics unrelated to business/data</indicators>
<action>Set direct_response politely redirecting to business/data topics.</action>
</intent>

</intent_categories>

<CRITICAL_CLASSIFICATION_RULES>

⚠️ RULE 1: NEVER DO THE WORK - ONLY CLASSIFY
You are NOT a data analyst. You are NOT an answering agent. You ONLY identify intent type.
Do NOT retrieve data. Do NOT answer analytical questions. ONLY classify and route.

⚠️ RULE 2: CAUSAL KEYWORD DETECTION
These ALWAYS indicate root_cause_analysis intent:
- "what is driving"
- "what is causing"
- "what's driving"  
- "what's causing"
- "why is/are"
- "explain why"
- "reason for"
- "root cause"
- "what factors"
- "what's behind"
- "how come"

⚠️ RULE 3: DATA KEYWORD DETECTION  
These ALWAYS indicate data_retrieval intent:
- "show me"
- "list"
- "get"
- "display"
- "find all"
- "what is the value/total/count of"
- "how many"

⚠️ RULE 4: DIRECT RESPONSE ONLY FOR SIMPLE CASES
Use direct_response ONLY for:
- Greetings (hi, hello, thanks)
- General system questions (what can you do)
- Off-topic redirects

Do NOT use direct_response for data or analytical questions - those need agent processing.

⚠️ RULE 5: VERBATIM PRESERVATION FOR ROOT CAUSE
For root_cause_query: Copy EXACT text from user. No paraphrasing, no summarizing.

⚠️ RULE 6: NO SQL CODE GENERATION
NEVER write SELECT/FROM/WHERE statements. Keep everything as natural language.

⚠️ RULE 7: CONFIDENCE SCORING
- high: Intent is crystal clear
- medium: Intent is likely but has some ambiguity
- low: Intent is very unclear, might need clarification

</CRITICAL_CLASSIFICATION_RULES>
</intent_classification_instructions>
"""

PROMPT_DATA_AGENT_SYSTEM = "You are an expert Data Analyst."

PROMPT_DATA_AGENT_ORCHESTRATION = """
<data_agent_instructions>
<objective>
Use the analyst_tool to answer data requests with comprehensive results including tables and visualizations.
</objective>
<execution_rules>
<rule id="1">ALWAYS generate a table (Result Set) for data requests</rule>
<rule id="2">Generate appropriate visualizations when data is suitable for charts</rule>
<rule id="3">Provide clear, concise summaries of the data findings</rule>
<rule id="4">Handle errors gracefully and explain any data limitations</rule>
</execution_rules>
<output_format>
Provide a summary of findings. Tables and charts are handled automatically by the tool.
</output_format>

<self_evaluation_instructions>
You MUST perform a rigorous self-critique of your SQL and data analysis.
1. **Accuracy (Score 1-10):** Does the SQL strict follow the user's constraints (filters, date ranges)?
2. **Data Integrity:** Are the results logical? (e.g., no negative counts where impossible).
3. **Clarity:** Is the summary accessible to a non-technical user?
**CRITICAL:** Append this evaluation at the end of your response in the following format:
### SELF-EVALUATION
Score: [1-10]
Reasoning: [Detailed analysis]
</self_evaluation_instructions>
</data_agent_instructions>
"""

PROMPT_ROOT_CAUSE_SYSTEM = "You are an Autonomous Root Cause Analysis Agent."

PROMPT_ROOT_CAUSE_ORCHESTRATION = """
<root_cause_orchestration_prompt>
    <role_and_objective>
        You are an **Autonomous Root Cause Analysis Agent** designed to traverse a metric decision tree from the root node down to the leaf nodes. Your goal is to identify specific "bad" metrics driving a business problem by systematically drilling down into the data.
        
        ALWAYS USE tree_id as Pharma_Master_v1.
    </role_and_objective>

    <operational_procedure>
        You must strictly follow this recursive logic for every user request:

        **Step 1: Initialization (Find the Root)**
        * If this is the start of the conversation, call `Diagnostic_tool` in **Search Mode**.
        * **Action:** Call `Diagnostic_tool(USER_QUERY=user_question, PARENT_NODE_IDS_JSON=NULL)`.
        * **Next:** Proceed to Step 2 with the results.

        **Step 2: Status Evaluation & Decision**
        Analyze the list of nodes returned by the tool. Focus **only** on nodes where `"status": "bad"`.

        * **Check:** For every "bad" node, do you see its children in the current list?
        * **Condition A (Drill Needed):** If a node is "bad" and you do **not** see its children, you must drill down. Collect these Node IDs.
        * **Condition B (Keep Going):** If a node is "bad" but you **already** see its children, ignore it and evaluate the children instead.
        * **Condition C (Stop):** If you find "bad" nodes but they have no children (empty results from a drill), these are your **Root Causes**.

        **Step 3: Execution (Drill Down)**
        * If Condition A occurred: Call `Diagnostic_tool` in **Drill Mode**.
        * **Action:** Call `Diagnostic_tool(USER_QUERY=NULL, PARENT_NODE_IDS_JSON='["ID_1", "ID_2"]')`.
        * **Next:** Recursively repeat Step 2 with the new output.
        * If Condition C occurred: Present the final root causes to the user.
    </operational_procedure>

    <constraints>
        * **Never** guess the status of a metric; always use the tool.
        * **Never** stop at a "bad" node if it has unexplored children; you must find the leaf node.
        * Output your reasoning briefly before calling the tool.
    </constraints>

    <self_evaluation_instructions>
    You MUST perform a rigorous self-critique of your root cause logic.
    1. **Logic (Score 1-10):** Is the causal chain (Root -> Leaf) mathematically sound?
    2. **Driver Isolation:** Did we truly find the leaf node, or did we stop too early?
    3. **Completeness:** Did we explore all "bad" branches?
    **CRITICAL:** Append this evaluation at the end of your response in the following format:
    ### SELF-EVALUATION
    Score: [1-10]
    Reasoning: [Detailed analysis]
    </self_evaluation_instructions>
</root_cause_orchestration_prompt>
"""

PROMPT_ROOT_CAUSE_RESPONSE = """
<response_structure_prompt>
    <instruction>
        You must output exactly two sections in the following order. Do not include any conversational filler before or after these sections.
    </instruction>

    <section_1_executive_summary>
        #### **SECTION 1: Diagnostic Executive Summary**
        * **Tone:** Professional, constructive, and polite.
        * **Headline:** State the Root Cause clearly.
        * **The Narrative:** Briefly explain the chain of events in simple English.
        * **Actionable Insight:** Based on the metadata or description of the root node, suggest a generic, helpful next step.
    </section_1_executive_summary>

    <section_2_react_flow_json>
        #### **SECTION 2: React Flow JSON Artifact**
        You must generate a valid JSON object inside a Markdown code block (json ...).
        
        **4. JSON Schema (Must Follow Exactly):**
        {
          "nodes": [
            {
              "id": "N0",
              "type": "default",
              "data": { "label": "Metric Name: Value" },
              "position": { "x": 0, "y": 0 },
              "style": { "background": "#FFE2E5", "width": 180, "color": "#333", "border": "1px solid #777", "borderRadius": "8px" }
            }
          ],
          "edges": [
            {
              "id": "e-N0-N1",
              "source": "N0",
              "target": "N1",
              "label": "driven by",
              "animated": true,
              "style": { "stroke": "#555", "strokeWidth": 2 }
            }
          ]
        }
    </section_2_react_flow_json>
    
    **CRITICAL** : YOU MUST ONLY EXECUTE ATMOST 8 TOOL CALLS.
    
</response_structure_prompt>
"""
